<div
  class="cinema-container flex flex-row align-items-start justify-content-center gap-6"
>
  <!-- Seat Map and Screen -->
  <div class="cinema-map flex flex-column align-items-center gap-4">
    <!-- Screen -->
    <div
      class="screen flex align-items-center justify-content-center bg-gray-300 border-round py-2 w-full mb-6"
    >
      <span>Screen</span>
    </div>

    <!-- Seat Map -->
    <div class="seat-map flex flex-column gap-3">
      <ng-container *ngFor="let row of seatRows; let rowIndex = index">
        <div class="row flex align-items-center gap-2 position-relative">
          <span class="row-label font-bold">{{ getRowLabel(rowIndex) }}</span>
          <div
            class="seat-row flex justify-content-center align-items-center gap-2 position-relative"
          >
            <!-- Seats -->
            <ng-container *ngFor="let seat of row; let seatIndex = index">
              <ng-container *ngIf="seat; else emptySpacePlaceholder">
                <img
                  [src]="'cinemaseat.png'"
                  [alt]="seat.label"
                  class="cinema-seat-icon"
                  [ngClass]="{
                    available: !seat.reserved,
                    reserved: seat.reserved,
                    selected: selectedSeats.includes(seat)
                  }"
                  [class.disabled]="seat.reserved"
                  (click)="!seat.reserved && toggleSeatSelection(seat)"
                />
              </ng-container>
              <ng-template #emptySpacePlaceholder>
                <div class="empty-space"></div>
              </ng-template>
            </ng-container>
          </div>
        </div>
      </ng-container>
    </div>
  </div>

  <!-- Legend -->
  <div class="seat-legend flex flex-column align-items-start gap-4">
    <h4>Legend</h4>
    <div class="legend-item flex align-items-center gap-2">
      <img src="cinemaseat.png" alt="Available" class="legend-icon available" />
      <span>Available</span>
    </div>
    <div class="legend-item flex align-items-center gap-2">
      <img src="cinemaseat.png" alt="Reserved" class="legend-icon reserved" />
      <span>Taken</span>
    </div>
    <div class="legend-item flex align-items-center gap-2">
      <img src="cinemaseat.png" alt="Selected" class="legend-icon selected" />
      <span>Selected</span>
    </div>
  </div>
</div>
